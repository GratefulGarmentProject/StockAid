<script type="text/x-tmpl" id="purchases-new-purchase-template">
  <tr class="purchase-row">
    <td>
      <div class="form-group">
        <select class="category form-control" data-guard="required">
          <option value="">Select a category...</option>
          {% for (var i = 0; i < data.categories.length; i++) { %}
            <option value="{%= data.categories[i].id %}">{%= data.categories[i].description %}</option>
          {% } %}
        </select>
      </div>
    </td>
    <td>
      <div class="form-group">
        <select name="purchase[purchase_details_attributes][{%= data.num_rows %}][item_id]" class="item form-control" data-guard="different required" data-guard-different-message="All items must be different.">
          <option value="">Select an item...</option>
        </select>
      </div>
    </td>
    <td>
      <div class="form-group">
        <input type="number" name="purchase[purchase_details_attributes][{%= data.num_rows %}][quantity]" class="quantity form-control" placeholder="Enter a quantity" data-guard="required" />
      </div>
    </td>
    <td class="text-muted">
      <div class="input-group">
        <span class="input-group-addon">$</span>
        <input type="number" min="0.01" max="99999" step="0.01" name="purchase[purchase_details_attributes][{%= data.num_rows %}][cost]" class="cost form-control" placeholder="0.00" data-guard="required" />
      </div>
    </td>
    <td class="text-muted">
      <div class="input-group">
        <span class="input-group-addon">$</span>
        <input type="number" min="0.01" max="99999" step="0.01" name="purchase[purchase_details_attributes][{%= data.num_rows %}][line_cost]" class="line-cost form-control" placeholder="0.00" data-guard="required" />
      </div>
    </td>
    <td class="text-muted">
      <p>TBD</p>
    </td>
    <td>
      <button class="pull-right btn btn-danger btn-xs delete-row">
        <span class="glyphicon glyphicon-trash"></span>
      </button>
    </td>
  </tr>
</script>

<script type="text/x-tmpl" id="purchases-item-options-template">
  <option value="">Select an item...</option>

  {% for (var i = 0; i < o.items.length; i++) { %}
    {% var item = o.items[i]; %}
    <option value="{%= item.id %}">{%= item.description %}</option>
  {% } %}
</script>
